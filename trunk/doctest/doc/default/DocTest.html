<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class DocTest</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class DocTest</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Tests classes by executing usage examples in the class documentation.</p>
<p class="description"><p><a href="http://svn.berlios.de/svnroot/repos/ubook/branches/doctest/">Download</a></p><p>If you have a file called <samp>example.php</samp> like this below,  and execute it, the DocTest class will really execute  <samp>add(20, 22)</samp> and compare the output to <samp>42</samp>. It will  output, that this test passes.</p><p><pre>   &lt;?php
     // This file is example.php
     /**
      * Adds two numbers.
      * Usage example:
      * &lt;code&gt;
      *  echo add(20, 22); /// 42
      * &lt;/code&gt;
      */
     function add($a, $b) {
         return $a + $b;
     }

     if (__FILE__ == realpath($_SERVER['SCRIPT_FILENAME'])) {
         require_once 'DocTest.php';
         $test = new DocTest(__FILE__);
         echo $test->toString();
     }
   ?&gt;</pre></p><p>You can call the test also from another file like this:</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$test&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$test</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodfailed">failed</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;bool(false)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;echo&nbsp;<span class="src-var">$test</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodtoString">toString</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">//&nbsp;will&nbsp;output:</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;----------------------------------------</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;DocTest&nbsp;of&nbsp;file:</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;&nbsp;example.php</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;Passed&nbsp;1</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;----------------------------------------</span></div></li>
</ol></div></p><p>There are some more methods to examine the result of the test. See the list  below.</p><p>The used syntax is compatible to the documentation syntax of  <a href="http://pear.php.net/package/PhpDocumentor">PhpDocumentor</a>.</p><p>The praxis of doc tests is very common under python programmers. Python has  a build in module for doc tests. Due it's no part of the PHP language (yet)  there are several PHP classes in the web following the same principle. For  example: <ul><li><a href="http://pear.php.net/package/Testing_DocTest">http://pear.php.net/package/Testing_DocTest</a></li><li><a href="http://github.com/xdissent/php-doctest">http://github.com/xdissent/php-doctest</a></li></ul>  Sometimes you are not able to test your application only with doc tests. In  some cases a more complex testing framework is usefull. I recommend  <a href="http://www.phpunit.de/">PhpUnit</a>, which has a similar functionality to  <a href="http://www.junit.org/">JUnit</a> for Java.</p><p>This class is part of the <a href="http://ubook.berlios.de/">uBook Project</a>.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Maikel Linke
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>. (ubook-info@lists.berlios.de)</li>
				<li><span class="field">version:</span> 2010-09-11</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_DocTest.php.html">/DocTest.php</a> (line <span class="field">78</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>




	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
												<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																												
												<div class="method-definition">
											<span class="method-result">DocTest</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$testCandidate</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#failed" title="details" class="method-name">failed</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#getExpected" title="details" class="method-name">getExpected</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#getLineNumber" title="details" class="method-name">getLineNumber</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#getResult" title="details" class="method-name">getResult</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#numOfPassed" title="details" class="method-name">numOfPassed</a>
										()
									</div>
																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#toString" title="details" class="method-name">toString</a>
										()
									</div>
								</div>
		</div>
	</div>		

	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">101</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Tests <var>$testCandidate</var>.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">DocTest</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$testCandidate</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$testCandidate</span><span class="var-description">: PHP file with documentation</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfailed" id="failed"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">failed</span> (line <span class="line-number">116</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Determines, if the test failed or not.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$test&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$test</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodfailed">failed</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;bool(false)</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> true, if the test failed</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			failed
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetExpected" id="getExpected"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getExpected</span> (line <span class="line-number">161</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the last expected output of the tested code.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$badTest&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example_bad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$badTest</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodgetExpected">getExpected</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;string(2)&nbsp;&quot;42&quot;</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> expected result</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getExpected
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetLineNumber" id="getLineNumber"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getLineNumber</span> (line <span class="line-number">149</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the last line number before an assertion failed or  the test terminated successfully.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$badTest&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example_bad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$badTest</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodgetLineNumber">getLineNumber</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;int(10)</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> number of the last code line</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			getLineNumber
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetResult" id="getResult"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getResult</span> (line <span class="line-number">173</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the real output of the tested code.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$badTest&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example_bad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$badTest</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodgetResult">getResult</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;string(3)&nbsp;&quot;440&quot;</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> result of the tested code</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getResult
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodnumOfPassed" id="numOfPassed"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">numOfPassed</span> (line <span class="line-number">136</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the number of passed assertion before the test failed or  terminated successfully.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$test&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$test</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodnumOfPassed">numOfPassed</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;int(1)</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$badTest&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example_bad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span><span class="src-var">$badTest</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodnumOfPassed">numOfPassed</a><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;&nbsp;</span><span class="src-comm">///&nbsp;int(0)</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> number of passed assertions</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			numOfPassed
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodtoString" id="toString"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">toString</span> (line <span class="line-number">196</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a human readable string with the result of the test.</p>
<p class="description"><p><div class="src-code"><ol><li><div class="src-line">&nbsp;&nbsp;<span class="src-var">$badTest&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id"><a href="../default/DocTest.html">DocTest</a></span><span class="src-sym">(</span><span class="src-str">'example_bad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;echo&nbsp;<span class="src-var">$badTest</span><span class="src-sym">-&gt;</span><a href="../default/DocTest.html#methodtoString">toString</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">//&nbsp;will&nbsp;output:</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;----------------------------------------</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;DocTest&nbsp;of&nbsp;file:</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;&nbsp;example_bad.php</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;Failure&nbsp;at&nbsp;line&nbsp;10</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;Expected&nbsp;&quot;42&quot;&nbsp;but&nbsp;was&nbsp;&quot;440&quot;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;Passed&nbsp;0</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-comm">///&nbsp;----------------------------------------</span></div></li>
</ol></div></p></p>
	<ul class="tags">
				<li><span class="field">return:</span> pretty representation of the test result</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			toString
		</span>
				()
			</div>
	
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Tue, 14 Sep 2010 01:59:42 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>